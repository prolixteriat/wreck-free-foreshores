# api

## Overview
A PHP script which provides API endpoints for the MySQL database. It provides general user management endpoints (e.g. `add-user`, `password-reset`) in addition to domain-specific endpoints (e.g. `add-wreck`, `get-photo`). The `login` endpoint returns a JWT which is used by the front-end to show/hide functionality based upon user role, and is returned by the front-end in subsequent API calls for authorisation purposes. The PHP Slim Framework is used to provide API routing functionality.

## Structure
- **.vscode** - VS Code debugging configuration.
- **logs** - Used for storage of error and operational logs generated by the script.
- **private** - Contains the bulk of the script's functionality. 
- **public** - Contains the single index.php file which sets up the Slim routing configuration.
- **tests** - PHPUnit tests.

##	Installation
- A **composer.json** and **composer.lock** file is provided to assist with installation of the necessary dependencies. PHPUnit is included as a dev dependency.
- Within the **private** directory, it will be necessary to rename and populate the **creds_.php** and **config_.php** files to **creds.php** and **config.php**, respectively. Once renamed, populate the variables contained within each as appropriate for your environment. Setting the `ENVIRONMENT` variable within the **config.php** file allows quick switching between different environments.
- Similarly, within the **tests** directory, rename the **creds_.php** file to **creds.php** and populate with the password previously set within the **database/insert-data.sql** file.

##	Notes
Placeholders for a number of incomplete endpoints are included and have been tagged with 'TODO' where appropriate.
